import{_ as t}from"../../chunks/preload-helper-08cc8e69.js";import{S as s,i as e,s as a,e as o,c as r,a as n,d as l,b as c,f as g,u as i,w as h,x as f,r as p,t as u,k as d,g as m,n as v,E as x,h as E,G as $,j as w,m as P,o as b,v as k,l as j,I as N}from"../../chunks/vendor-941e9029.js";import{P as _}from"../../chunks/PostItem-c7ae68e6.js";function O(t,s,e){const a=t.slice();return a[2]=s[e],a}function A(t){let s,e,a,i,h,f,p,w,P,b,k;return{c(){s=o("h2"),e=u("Oops!"),a=d(),i=o("p"),h=u("No posts tagged "),f=o("span"),p=u(t[1]),w=u(" could be found."),P=d(),b=o("a"),k=u("Back to the blog"),this.h()},l(o){s=r(o,"H2",{});var c=n(s);e=m(c,"Oops!"),c.forEach(l),a=v(o),i=r(o,"P",{});var g=n(i);h=m(g,"No posts tagged "),f=r(g,"SPAN",{class:!0});var u=n(f);p=m(u,t[1]),u.forEach(l),w=m(g," could be found."),g.forEach(l),P=v(o),b=r(o,"A",{href:!0});var d=n(b);k=m(d,"Back to the blog"),d.forEach(l),this.h()},h(){c(f,"class","tag svelte-1ugv6eq"),c(b,"href","/writing")},m(t,o){g(t,s,o),x(s,e),g(t,a,o),g(t,i,o),x(i,h),x(i,f),x(f,p),x(i,w),g(t,P,o),g(t,b,o),x(b,k)},p(t,s){2&s&&E(p,t[1])},i:$,o:$,d(t){t&&l(s),t&&l(a),t&&l(i),t&&l(P),t&&l(b)}}}function I(t){let s,e,a,$,w,P,b,k=t[0],_=[];for(let o=0;o<k.length;o+=1)_[o]=S(O(t,k,o));const A=t=>i(_[t],1,1,(()=>{_[t]=null}));return{c(){s=o("h2"),e=u("Posts tagged "),a=o("span"),$=u(t[1]),w=d();for(let t=0;t<_.length;t+=1)_[t].c();P=j(),this.h()},l(o){s=r(o,"H2",{});var c=n(s);e=m(c,"Posts tagged "),a=r(c,"SPAN",{class:!0});var g=n(a);$=m(g,t[1]),g.forEach(l),c.forEach(l),w=v(o);for(let t=0;t<_.length;t+=1)_[t].l(o);P=j(),this.h()},h(){c(a,"class","tag svelte-1ugv6eq")},m(t,o){g(t,s,o),x(s,e),x(s,a),x(a,$),g(t,w,o);for(let s=0;s<_.length;s+=1)_[s].m(t,o);g(t,P,o),b=!0},p(t,s){if((!b||2&s)&&E($,t[1]),1&s){let e;for(k=t[0],e=0;e<k.length;e+=1){const a=O(t,k,e);_[e]?(_[e].p(a,s),f(_[e],1)):(_[e]=S(a),_[e].c(),f(_[e],1),_[e].m(P.parentNode,P))}for(p(),e=k.length;e<_.length;e+=1)A(e);h()}},i(t){if(!b){for(let t=0;t<k.length;t+=1)f(_[t]);b=!0}},o(t){_=_.filter(Boolean);for(let s=0;s<_.length;s+=1)i(_[s]);b=!1},d(t){t&&l(s),t&&l(w),N(_,t),t&&l(P)}}}function S(t){let s,e;return s=new _({props:{post:t[2]}}),{c(){w(s.$$.fragment)},l(t){P(s.$$.fragment,t)},m(t,a){b(s,t,a),e=!0},p(t,e){const a={};1&e&&(a.post=t[2]),s.$set(a)},i(t){e||(f(s.$$.fragment,t),e=!0)},o(t){i(s.$$.fragment,t),e=!1},d(t){k(s,t)}}}function B(t){let s,e,a,u;const d=[I,A],m=[];function v(t,s){return t[0].length>0?0:1}return e=v(t),a=m[e]=d[e](t),{c(){s=o("section"),a.c(),this.h()},l(t){s=r(t,"SECTION",{class:!0});var e=n(s);a.l(e),e.forEach(l),this.h()},h(){c(s,"class","flow")},m(t,a){g(t,s,a),m[e].m(s,null),u=!0},p(t,[o]){let r=e;e=v(t),e===r?m[e].p(t,o):(p(),i(m[r],1,1,(()=>{m[r]=null})),h(),a=m[e],a?a.p(t,o):(a=m[e]=d[e](t),a.c()),f(a,1),a.m(s,null))},i(t){u||(f(a),u=!0)},o(t){i(a),u=!1},d(t){t&&l(s),m[e].d()}}}const D=async({page:s,fetch:e,context:a,session:o})=>{const r=s.params.tag,n={"../writing/making-an-rss-reader-1/index.svx":()=>t((()=>import("../writing/making-an-rss-reader-1/index.svx-6f2cd7ed.js")),["pages/writing/making-an-rss-reader-1/index.svx-6f2cd7ed.js","assets/pages/writing/making-an-rss-reader-1/index.svx-8540e16d.css","chunks/vendor-941e9029.js"])},l=[];return await Promise.all(Object.entries(n).map((async([t,s])=>{const{metadata:e}=await s();console.log("tags: ",e.tags),e.tags&&e.tags.includes(r)&&l.push({author:e.author,created:e.created,slug:e.slug,subtitle:e.subtitle,title:e.title,excerpt:e.excerpt,tags:e.tags})}))),l.sort(((t,s)=>new Date(t.created)>new Date(s.created)?-1:1)),{props:{posts:l,tag:r}}};function q(t,s,e){let{posts:a=[]}=s,{tag:o}=s;return console.log(a),t.$$set=t=>{"posts"in t&&e(0,a=t.posts),"tag"in t&&e(1,o=t.tag)},[a,o]}export default class extends s{constructor(t){super(),e(this,t,q,B,a,{posts:0,tag:1})}}export{D as load};
