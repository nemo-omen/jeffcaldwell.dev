import{_ as t}from"../../chunks/preload-helper-08cc8e69.js";import{S as s,i as e,s as a,e as o,c as r,a as n,d as i,b as l,f as c,u as g,w as h,x as p,r as f,t as u,k as d,g as m,n as x,E as v,h as _,G as E,j as w,m as P,o as b,v as $,l as j,I as k}from"../../chunks/vendor-941e9029.js";import{P as O}from"../../chunks/PostItem-c7ae68e6.js";function A(t,s,e){const a=t.slice();return a[2]=s[e],a}function I(t){let s,e,a,g,h,p,f,w,P,b,$;return{c(){s=o("h2"),e=u("Oops!"),a=d(),g=o("p"),h=u("No posts tagged "),p=o("span"),f=u(t[1]),w=u(" could be found."),P=d(),b=o("a"),$=u("Back to the blog"),this.h()},l(o){s=r(o,"H2",{});var l=n(s);e=m(l,"Oops!"),l.forEach(i),a=x(o),g=r(o,"P",{});var c=n(g);h=m(c,"No posts tagged "),p=r(c,"SPAN",{class:!0});var u=n(p);f=m(u,t[1]),u.forEach(i),w=m(c," could be found."),c.forEach(i),P=x(o),b=r(o,"A",{href:!0});var d=n(b);$=m(d,"Back to the blog"),d.forEach(i),this.h()},h(){l(p,"class","tag svelte-1ugv6eq"),l(b,"href","/writing")},m(t,o){c(t,s,o),v(s,e),c(t,a,o),c(t,g,o),v(g,h),v(g,p),v(p,f),v(g,w),c(t,P,o),c(t,b,o),v(b,$)},p(t,s){2&s&&_(f,t[1])},i:E,o:E,d(t){t&&i(s),t&&i(a),t&&i(g),t&&i(P),t&&i(b)}}}function N(t){let s,e,a,E,w,P,b,$=t[0],O=[];for(let o=0;o<$.length;o+=1)O[o]=T(A(t,$,o));const I=t=>g(O[t],1,1,(()=>{O[t]=null}));return{c(){s=o("h2"),e=u("Posts tagged "),a=o("span"),E=u(t[1]),w=d();for(let t=0;t<O.length;t+=1)O[t].c();P=j(),this.h()},l(o){s=r(o,"H2",{});var l=n(s);e=m(l,"Posts tagged "),a=r(l,"SPAN",{class:!0});var c=n(a);E=m(c,t[1]),c.forEach(i),l.forEach(i),w=x(o);for(let t=0;t<O.length;t+=1)O[t].l(o);P=j(),this.h()},h(){l(a,"class","tag svelte-1ugv6eq")},m(t,o){c(t,s,o),v(s,e),v(s,a),v(a,E),c(t,w,o);for(let s=0;s<O.length;s+=1)O[s].m(t,o);c(t,P,o),b=!0},p(t,s){if((!b||2&s)&&_(E,t[1]),1&s){let e;for($=t[0],e=0;e<$.length;e+=1){const a=A(t,$,e);O[e]?(O[e].p(a,s),p(O[e],1)):(O[e]=T(a),O[e].c(),p(O[e],1),O[e].m(P.parentNode,P))}for(f(),e=$.length;e<O.length;e+=1)I(e);h()}},i(t){if(!b){for(let t=0;t<$.length;t+=1)p(O[t]);b=!0}},o(t){O=O.filter(Boolean);for(let s=0;s<O.length;s+=1)g(O[s]);b=!1},d(t){t&&i(s),t&&i(w),k(O,t),t&&i(P)}}}function T(t){let s,e;return s=new O({props:{post:t[2]}}),{c(){w(s.$$.fragment)},l(t){P(s.$$.fragment,t)},m(t,a){b(s,t,a),e=!0},p(t,e){const a={};1&e&&(a.post=t[2]),s.$set(a)},i(t){e||(p(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){$(s,t)}}}function D(t){let s,e,a,u;const d=[N,I],m=[];function x(t,s){return t[0].length>0?0:1}return e=x(t),a=m[e]=d[e](t),{c(){s=o("section"),a.c(),this.h()},l(t){s=r(t,"SECTION",{class:!0});var e=n(s);a.l(e),e.forEach(i),this.h()},h(){l(s,"class","flow")},m(t,a){c(t,s,a),m[e].m(s,null),u=!0},p(t,[o]){let r=e;e=x(t),e===r?m[e].p(t,o):(f(),g(m[r],1,1,(()=>{m[r]=null})),h(),a=m[e],a?a.p(t,o):(a=m[e]=d[e](t),a.c()),p(a,1),a.m(s,null))},i(t){u||(p(a),u=!0)},o(t){g(a),u=!1},d(t){t&&i(s),m[e].d()}}}const L=async({page:s,fetch:e,context:a,session:o})=>{const r=s.params.tag,n={"../writing/making-an-rss-reader-1/index.svx":()=>t((()=>import("../writing/making-an-rss-reader-1/index.svx-147b14d7.js")),["pages/writing/making-an-rss-reader-1/index.svx-147b14d7.js","chunks/vendor-941e9029.js","chunks/writing-698e4e09.js","assets/writing-6c87c5a6.css"]),"../writing/test-post/index.svx":()=>t((()=>import("../writing/test-post/index.svx-83f9ab25.js")),["pages/writing/test-post/index.svx-83f9ab25.js","chunks/vendor-941e9029.js","chunks/writing-698e4e09.js","assets/writing-6c87c5a6.css"]),"../writing/test-three/index.svx":()=>t((()=>import("../writing/test-three/index.svx-17974411.js")),["pages/writing/test-three/index.svx-17974411.js","chunks/vendor-941e9029.js","chunks/writing-698e4e09.js","assets/writing-6c87c5a6.css"]),"../writing/test-two/index.svx":()=>t((()=>import("../writing/test-two/index.svx-2f6658eb.js")),["pages/writing/test-two/index.svx-2f6658eb.js","chunks/vendor-941e9029.js","chunks/writing-698e4e09.js","assets/writing-6c87c5a6.css"])},i=[];return await Promise.all(Object.entries(n).map((async([t,s])=>{const{metadata:e}=await s();e.tags.includes(r)&&i.push({author:e.author,created:e.created,slug:e.slug,subtitle:e.subtitle,title:e.title,excerpt:e.excerpt,tags:e.tags})}))),console.log("posts: ",i),i.sort(((t,s)=>t.created>s.created?1:-1)),{props:{posts:i,tag:r}}};function R(t,s,e){let{posts:a=[]}=s,{tag:o}=s;return console.log(a),t.$$set=t=>{"posts"in t&&e(0,a=t.posts),"tag"in t&&e(1,o=t.tag)},[a,o]}export default class extends s{constructor(t){super(),e(this,t,R,D,a,{posts:0,tag:1})}}export{L as load};
